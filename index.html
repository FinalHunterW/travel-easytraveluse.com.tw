<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Travel Planner</title>
    
    <meta name="theme-color" content="#FFFFFF"> <link rel="manifest" href="manifest.webmanifest">

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,1,0" />
    <link rel="stylesheet" href="css/styles.css">

    <script src="https://unpkg.com/dexie/dist/dexie.js"></script>
</head>
<body>

    <header class="top-bar" style="display:none;">
        <button class="icon-btn" id="btn-back">
            <span class="material-symbols-rounded">arrow_back</span>
        </button>
        <h1 id="app-title">旅程規劃</h1>
        <div style="width: 40px;"></div> </header>

    <main>
        <section id="view-home" class="view active"></section>

        <section id="view-events" class="view" style="display: none;">
            <div id="events-container" class="list-container"></div>
        </section>

        <section id="view-tools" class="view" style="display: none;">
            <div id="tool-content"></div>
        </section>

        <section id="view-expenses" class="view" style="display: none;">
            <div class="budget-summary">
                <h2>總支出: <span id="total-expense">0</span> TWD</h2>
            </div>
            <div id="expenses-container" class="list-container"></div>
        </section>

        <section id="view-places" class="view" style="display: none;">
            <div id="places-container"></div>
        </section>
        
        <section id="view-settings" class="view" style="display: none;">
            <div id="settings-container"></div>
        </section>
    </main>

    <button id="fab-add" class="fab" style="display:none;">
        <span class="material-symbols-rounded">add</span>
    </button>

    <nav class="bottom-nav">
        <button class="nav-item active" data-target="view-events">
            <span class="material-symbols-rounded">calendar_month</span>
            <span class="label">行程</span>
        </button>
        <button class="nav-item" data-target="view-places">
            <span class="material-symbols-rounded">map</span>
            <span class="label">地圖</span>
        </button>
        <button class="nav-item" data-target="view-expenses">
            <span class="material-symbols-rounded">account_balance_wallet</span>
            <span class="label">記帳</span>
        </button>
        <button class="nav-item" data-target="view-tools">
            <span class="material-symbols-rounded">grid_view</span>
            <span class="label">工具</span>
        </button>
    </nav>

    <div id="modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-handle"></div>
            <h2 id="modal-title" style="text-align:center; margin-bottom:20px;">新增項目</h2>
            <div id="modal-body"></div>
            <div class="modal-actions">
                <button id="btn-cancel" class="text-btn">取消</button>
                <button id="btn-save" class="filled-btn">儲存</button>
            </div>
        </div>
    </div>
    
    <script type="module" src="js/app.js"></script>
    
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js');
            });
        }
    </script>
</body>
</html>